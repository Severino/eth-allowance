{"version":3,"sources":["helpers/ABI.js","helpers/dapps.js","wallets/wallet.js","components/header.jsx","helpers/transaction.js","helpers/helpers.js","helpers/explorer.js","components/allowance.jsx","components/spinner.jsx","components/tip.jsx","wallets/metamask.js","wallets/wallets.js","components/walletconnect.jsx","components/allowances.jsx","App.js","index.js"],"names":["module","exports","ERC20ABI","ERC721ABI","Wallet","Error","this","name","func","listeners","push","funcIdx","indexOf","splice","header","className","path","mdiFlask","size","color","id","src","alt","mdiSync","href","Component","shorten","hash","length","substring","Web3","require","web3","givenProvider","BN","utils","request","approvalHash","toBech32","fromBech32","unlimitedAllowance","noneAllowance","getEndpoint","chainId","parseInt","fetchTransactions","endpoint","address","a","page","num","bechAddress","post","set","accept","send","result","body","transactions","getApprovalTransactions","approveTransactions","values","tx","input","includes","token","toChecksumAddress","to","contract","timestamp","allowance","allowanceString","approveObj","getERC20Contract","eth","Contract","getName","contractAddress","methods","call","console","error","fetchAllowance","account","spender","undefined","_allowance","decimals","floatedDecimals","floatingPointPrecision","allowanceBN","div","pow","max","Math","log","gt","eq","repeat","toNumber","toFixed","err_str","toast","tokenId","ownerOf","getExplorerFromChainId","warn","linkToAddress","window","ethereum","props","state","setRevokeClick","bind","dappURL","initRevoke","revokeSuccess","revokeFailed","getAllowance","requestAllowance","url","Object","keys","dapps","key","contractName","toLowerCase","is721","allowanceUnEdited","then","approve","from","catch","onStatusChange","receipt","success","err","status","mdiCheckboxBlankCircleOutline","mdiCheckboxMarkedCircleOutline","onClick","mdiCancel","setState","Date","toLocaleString","target","rel","tokenName","renderRevokeButton","Spinner","total","current","renderText","Tip","value","tipped","updateValue","sendTip","type","onInput","event","method","params","toHex","toWei","toString","MetaMask","hex","isMetaMask","requestAccounts","Promise","resolve","reject","accounts","code","default","wallets","WalletConnect","connectMetaMask","connectOneWallet","State","disconnect","Account","connect","ConnectButton","connectWallet","wallet","network","getChainId","update","allowances","approvalMap","fee","loading","totalTransactionCount","currentTransactionCount","pageNum","moreTransactions","showZeroAllowance","walletUpdated","statusChanged","loadMore","init","obj","selectedAddress","updateTransactions","txs","previousApprovalMap","entries","tokens","tokenAddress","approvalObjects","newestApproval","approval","i","sort","b","msg","idx","findIndex","arr_tx","forceUpdate","e","that","elements","RenderTable","revokedClass","TransactionsContainer","mdiEyeOff","mdiEye","map","prevProps","prevState","agreementStorageName","storeAgreement","val","localStorage","setItem","JSON","stringify","getTime","agreed","App","storedAgreement","agreement","now","str","getItem","parse","days","getAgreement","useState","setAgreed","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c49c7285.chunk.js","sourcesContent":["const ERC20ABI = [\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"name\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"string\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_spender\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"name\": \"_value\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"approve\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"bool\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"totalSupply\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_from\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"name\": \"_to\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"name\": \"_value\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"transferFrom\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"bool\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"decimals\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"uint8\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_owner\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"balanceOf\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"balance\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"symbol\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"string\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_to\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"name\": \"_value\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"transfer\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"bool\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_owner\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"name\": \"_spender\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"allowance\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"payable\": true,\r\n        \"stateMutability\": \"payable\",\r\n        \"type\": \"fallback\"\r\n    },\r\n    {\r\n        \"anonymous\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"indexed\": true,\r\n                \"name\": \"owner\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"indexed\": true,\r\n                \"name\": \"spender\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"value\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"Approval\",\r\n        \"type\": \"event\"\r\n    },\r\n    {\r\n        \"anonymous\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"indexed\": true,\r\n                \"name\": \"from\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"indexed\": true,\r\n                \"name\": \"to\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"value\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"Transfer\",\r\n        \"type\": \"event\"\r\n    }\r\n];\r\n\r\nconst ERC721ABI = [{ \"constant\": true, \"inputs\": [], \"name\": \"name\", \"outputs\": [{ \"name\": \"_name\", \"type\": \"string\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_tokenId\", \"type\": \"uint256\" }], \"name\": \"getApproved\", \"outputs\": [{ \"name\": \"_approved\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_to\", \"type\": \"address\" }, { \"name\": \"_tokenId\", \"type\": \"uint256\" }], \"name\": \"approve\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"implementsERC721\", \"outputs\": [{ \"name\": \"_implementsERC721\", \"type\": \"bool\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"totalSupply\", \"outputs\": [{ \"name\": \"_totalSupply\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_from\", \"type\": \"address\" }, { \"name\": \"_to\", \"type\": \"address\" }, { \"name\": \"_tokenId\", \"type\": \"uint256\" }], \"name\": \"transferFrom\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_owner\", \"type\": \"address\" }, { \"name\": \"_index\", \"type\": \"uint256\" }], \"name\": \"tokenOfOwnerByIndex\", \"outputs\": [{ \"name\": \"_tokenId\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_tokenId\", \"type\": \"uint256\" }], \"name\": \"ownerOf\", \"outputs\": [{ \"name\": \"_owner\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_tokenId\", \"type\": \"uint256\" }], \"name\": \"tokenMetadata\", \"outputs\": [{ \"name\": \"_infoUrl\", \"type\": \"string\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_owner\", \"type\": \"address\" }], \"name\": \"balanceOf\", \"outputs\": [{ \"name\": \"_balance\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_owner\", \"type\": \"address\" }, { \"name\": \"_tokenId\", \"type\": \"uint256\" }, { \"name\": \"_approvedAddress\", \"type\": \"address\" }, { \"name\": \"_metadata\", \"type\": \"string\" }], \"name\": \"mint\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"symbol\", \"outputs\": [{ \"name\": \"_symbol\", \"type\": \"string\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_to\", \"type\": \"address\" }, { \"name\": \"_tokenId\", \"type\": \"uint256\" }], \"name\": \"transfer\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"numTokensTotal\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_owner\", \"type\": \"address\" }], \"name\": \"getOwnerTokens\", \"outputs\": [{ \"name\": \"_tokenIds\", \"type\": \"uint256[]\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": true, \"name\": \"_to\", \"type\": \"address\" }, { \"indexed\": true, \"name\": \"_tokenId\", \"type\": \"uint256\" }], \"name\": \"Mint\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": true, \"name\": \"_from\", \"type\": \"address\" }, { \"indexed\": true, \"name\": \"_to\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_tokenId\", \"type\": \"uint256\" }], \"name\": \"Transfer\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": true, \"name\": \"_owner\", \"type\": \"address\" }, { \"indexed\": true, \"name\": \"_approved\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_tokenId\", \"type\": \"uint256\" }], \"name\": \"Approval\", \"type\": \"event\" }];\r\n\r\nmodule.exports = { ERC20ABI, ERC721ABI }\r\n","module.exports = {\r\n    \"compound\": \"https://app.compound.finance/#\",\r\n    \"aave\": \"https://aave.com/\",\r\n    \"uniswap\": \"https://uniswap.org/\",\r\n    \"nest\": \"https://nestdapp.io/\",\r\n    \"cofi\": \"https://cofix.io/\"\r\n}\r\n","export default class Wallet {\r\n    /**\r\n     * Readonly name\r\n     */\r\n    // static get name() {\r\n    //     throw new Error(\"Call of abstract method 'name' on wallet.\")\r\n    // }\r\n\r\n    static available() {\r\n        throw new Error(\"Call of abstract method 'available' on wallet: \" + this.name)\r\n    }\r\n\r\n    static async connect() {\r\n        throw new Error(\"Call of abstract method 'connect' on wallet: \" + this.name)\r\n    }\r\n\r\n    static on(name, func) {\r\n        if (!this.listeners[name]) this.listeners[name] = []\r\n        this.listeners[name].push(func)\r\n    }\r\n\r\n    static off(name, func) {\r\n        const funcIdx = this.listeners[name]?.indexOf(func)\r\n        if (funcIdx !== -1) {\r\n            this.listeners[name].splice(funcIdx, 1)\r\n        }\r\n        else return false\r\n    }\r\n\r\n    static accountChanged() {\r\n        throw new Error(\"Call of abstract method 'accountChanged' on wallet: \" + this.name)\r\n    }\r\n\r\n    static networkChanged() {\r\n        throw new Error(\"Call of abstract method 'networkChanged' on wallet: \" + this.name)\r\n    }\r\n\r\n    static async getChainId(){\r\n        throw new Error(\"Call of abstract method 'getNetwork' on wallet: \" + this.name)\r\n    }\r\n\r\n}","import Icon from \"@mdi/react\";\r\nimport { mdiFlask, mdiSync } from '@mdi/js';\r\nimport React, { Component } from 'react';\r\nimport '../App.css';\r\n\r\nclass header extends Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"experimental-warning\">\r\n                    <Icon path={mdiFlask} size=\"16\" color=\"white\"/>\r\n                    Experimental\r\n                </div>\r\n                <div className=\"jumbotron\">\r\n                    <div id=\"titles\">\r\n                        <img src=\"harmony-lock-logo.png\" alt=\"Harmony Lock Logo\" />\r\n                        <h1>Harmony Allowance</h1>\r\n                        <h2>Find &amp; revoke all the addresses that can spend your HRC20 tokens</h2>\r\n                        \r\n                        <p>\r\n                            The app looks up your transaction history for approval transactions.\r\n                            If it finds some it shows them in the table. When the transaction has an input of\r\n                            0 (which means you revoked the allowance) then the transaction will be excluded from the list.\r\n                            You can now show those transactions by clicking the 'Show Zero Allowance' button.\r\n                        </p>\r\n                        <p>You can verify that the allowance is set to zero, by clicking in the allowance row with the\r\n                            <Icon path={mdiSync} size=\"16\" color=\"rgb(0, 174, 233)\" /> Symbol. It may occur, that the allowance shows 'some' before you click it and 0\r\n                            after. This happens if set a specific spending limit and then you spent it all. The app won't notice that, as it just looks at the input.\r\n                        </p>\r\n\r\n                        <p>To cut the RPC some slack, a 'Load More' button was introduced, that lets you load your transactions in little bits.</p>\r\n\r\n                        <p>Please report bugs and feature requests here:<br /> <a href=\"https://github.com/Severino/harmony-allowance/issues\">https://github.com/Severino/harmony-allowance/issues</a></p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default header;\r\n","export function shorten(hash, { length = 3 } = {}) {\r\n    if(!hash) return \"\"\r\n    return hash.substring(0, length + 2) + \"...\" + hash.substring(hash.length - length);\r\n}","import { toast } from 'react-toastify';\r\nimport { shorten } from './transaction.js';\r\n\r\nconst Web3 = require('web3');\r\nconst web3 = new Web3(Web3.givenProvider);\r\nconst BN = web3.utils.BN;\r\nconst request = require('superagent');\r\nconst approvalHash = \"0x095ea7b3\";\r\nconst { ERC20ABI, ERC721ABI } = require(\"./ABI.js\");\r\nconst {\r\n    toBech32,\r\n    fromBech32,\r\n} = require('@harmony-js/crypto');\r\n\r\n\r\nexport const unlimitedAllowance = \"ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\";\r\nexport const noneAllowance = \"0000000000000000000000000000000000000000000000000000000000000000\";\r\n\r\n\r\n/**\r\n * Returns the rendpoint URI if the chainId is supported,\r\n * otherwise null.\r\n * @param {int} chainId \r\n * @returns {string | null} \r\n */\r\nexport function getEndpoint(chainId) {\r\n\r\n    switch (parseInt(chainId, 10)) {\r\n        case 1666600000:\r\n            return \"https://harmony-0-rpc.gateway.pokt.network\"\r\n        case 1666700000:\r\n            return \"https://api.s0.pops.one\"\r\n        default:\r\n            return null;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport async function fetchTransactions(endpoint, address, {\r\n    page = 0,\r\n    num = 25\r\n}) {\r\n    try {\r\n        const bechAddress = toBech32(address)\r\n\r\n        let result = await request.post(endpoint)\r\n            .set('Content-Type', 'application/json')\r\n            .accept(\"application/json\")\r\n            .send({\r\n                \"jsonrpc\": \"2.0\",\r\n                \"method\": \"hmyv2_getTransactionsHistory\",\r\n                \"params\": [{\r\n                    \"address\": bechAddress,\r\n                    \"pageIndex\": page,\r\n                    \"pageSize\": num,\r\n                    \"fullTx\": true,\r\n                    \"txType\": \"ALL\",\r\n                    \"order\": \"DESC\"\r\n                }],\r\n                \"id\": 1\r\n            })\r\n\r\n        return result.body.result.transactions\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n}\r\n\r\nexport async function getApprovalTransactions(transactions) {\r\n    let approveTransactions = {};\r\n    if (transactions?.length > 0) {\r\n        for (let tx of transactions.values()) {\r\n\r\n            if (tx.input.includes(approvalHash)) {\r\n\r\n                const hash = tx.hash\r\n                const token = web3.utils.toChecksumAddress(fromBech32(tx.to));\r\n                const contract = web3.utils.toChecksumAddress(\"0x\" + tx.input.substring(34, 74));\r\n                const timestamp = tx.timestamp\r\n                const allowance = tx.input.substring(74);\r\n\r\n\r\n                let allowanceString = (allowance.includes(unlimitedAllowance)) ? \"unlimited\" : (allowance.includes(noneAllowance)) ? \"none\" : \"some\";\r\n\r\n\r\n                let approveObj = {\r\n                    hash,\r\n                    timestamp,\r\n                    contract,\r\n                    token,\r\n                    allowance,\r\n                    allowanceString\r\n                };\r\n\r\n                approveTransactions[contract] = approveTransactions[contract] || {}\r\n                if (!approveTransactions[contract][token]) {\r\n                    approveTransactions[contract][token] = []\r\n                }\r\n                approveTransactions[contract][token].push(approveObj)\r\n\r\n                // if (parseInt(allowance, 16) !== 0) {\r\n                //     approveTransactions.push(approveObj);\r\n                // } else {\r\n                //     filteredTransactions.push({ contract, token, timestamp })\r\n                //     // TODO clean up\r\n                //     // Remove all previous additions of this approval transaction as it is now cleared up\r\n                //     approveTransactions = approveTransactions.filter((val) => {\r\n                //         return !(val.approved === approveObj.approved);\r\n                //     });\r\n                // }\r\n            }\r\n        }\r\n    }\r\n\r\n    return approveTransactions;\r\n}\r\n\r\nexport function getERC20Contract(address) {\r\n    return new web3.eth.Contract(ERC20ABI, address);\r\n}\r\n\r\nexport async function getName(contractAddress) {\r\n    let name = shorten(contractAddress, { length: 4 })\r\n    try {\r\n        const contract = getERC20Contract(contractAddress)\r\n        name = await contract.methods.name().call();\r\n    } catch (e) {\r\n        // name not found, just use contract address\r\n        console.error(e);\r\n    }\r\n\r\n    return name\r\n}\r\n\r\nexport async function fetchAllowance(account, token, spender) {\r\n    let allowance = undefined\r\n    try {\r\n        const contract = getERC20Contract(token)\r\n        const _allowance = await contract.methods.allowance(account, spender).call()\r\n        const decimals = await contract.methods.decimals().call()\r\n        const floatingPointPrecision = (decimals - 6 > 0) ? 6 : decimals\r\n\r\n        const floatedDecimals = decimals - floatingPointPrecision\r\n\r\n        const allowanceBN = new BN(_allowance).div(new BN(10).pow(new BN(floatedDecimals)))\r\n        const max = 1000000000 * Math.pow(10, floatingPointPrecision)\r\n\r\n\r\n        console.log(_allowance, allowanceBN, new BN(max))\r\n\r\n        allowance = (_allowance === \"0\") ? \"0\" :\r\n            (allowanceBN.gt(new BN(max))) ? \"> 1 Billion\" :\r\n                (allowanceBN.eq(new BN(0))) ? `< 0.${\"0\".repeat(floatingPointPrecision)}` :\r\n                    (allowanceBN.toNumber() / (Math.pow(10, floatingPointPrecision)).toFixed(floatingPointPrecision))\r\n    } catch (e) {\r\n        const err_str = \"Could not get allowance!\"\r\n        toast.error(err_str)\r\n        console.error(err_str, e)\r\n    }\r\n    return allowance\r\n}\r\n\r\nexport async function is721(contractAddress, tokenId) {\r\n    let contract = new web3.eth.Contract(ERC721ABI, contractAddress);\r\n    try {\r\n        await contract.methods.ownerOf(tokenId).call();\r\n        return true; // if this call passes, it must be ERC721\r\n    } catch (e) {\r\n        // method doesn't exist, can't be 721\r\n        return false;\r\n    }\r\n}\r\n","export function getExplorerFromChainId(id){\r\n    switch (parseInt(id,16)) {\r\n        case 1666700000:\r\n            return \"https://explorer.pops.one\"\r\n        case 1666600000:\r\n            return \"https://explorer.harmony.one\"\r\n        default: {\r\n            console.warn(\"Could not find explorer for chain \", id)\r\n            return \"https://explorer.harmony.one\"\r\n        }\r\n    }\r\n}\r\n\r\nexport function linkToAddress(address){\r\n    return getExplorerFromChainId(window.ethereum.chainId) + \"/address/\"  + address\r\n}\r\n\r\nexport function linkToTransaction(tx){\r\n    return getExplorerFromChainId(window.ethereum.chainId) + \"/tx/\"  + tx\r\n}","import React, { Component } from \"react\";\r\nimport { fetchAllowance, is721 } from \"../helpers/helpers\";\r\nimport dapps from \"../helpers/dapps\";\r\nimport { ERC20ABI } from \"../helpers/ABI\";\r\nimport Icon from \"@mdi/react\";\r\nimport {\r\n  mdiCancel,\r\n  mdiCheckboxBlankCircleOutline,\r\n  mdiCheckboxMarkedCircleOutline,\r\n  mdiSync,\r\n} from \"@mdi/js\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { linkToAddress, linkToTransaction } from \"../helpers/explorer\";\r\nimport { shorten } from \"../helpers/transaction\";\r\n\r\nclass allowance extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.props = props;\r\n\r\n\r\n    this.state = {\r\n      allowance: null\r\n    }\r\n\r\n    this.setRevokeClick = this.setRevokeClick.bind(this);\r\n    this.dappURL = this.dappURL.bind(this);\r\n    this.initRevoke = this.initRevoke.bind(this);\r\n    this.revokeSuccess = this.revokeSuccess.bind(this);\r\n    this.revokeFailed = this.revokeFailed.bind(this);\r\n    this.getAllowance = this.getAllowance.bind(this)\r\n    this.requestAllowance = this.requestAllowance.bind(this)\r\n\r\n  }\r\n\r\n  dappURL() {\r\n    const dappsKeys = Object.keys(dapps);\r\n    let url = \"\";\r\n    for (let key of dappsKeys) {\r\n      if (this.props.tx.contractName.toLowerCase().includes(key)) {\r\n        url = dapps[key];\r\n      }\r\n    }\r\n    return url;\r\n  }\r\n\r\n  setRevokeClick() {\r\n    // set the contract and make an approve transaction with a zero allowance\r\n    const { web3 } = this.props;\r\n    const contract = new web3.eth.Contract(ERC20ABI, this.props.tx.token);\r\n    is721(contract, this.props.tx.allowanceUnEdited).then((result) => {\r\n      if (result) {\r\n        //revoke erc721 by nulling the address\r\n        throw new Error(\"ERC 721 is not supported yet!\")\r\n        // this.initRevoke();\r\n        // contract.methods\r\n        //   .approve(0, this.props.tx.allowanceUnEdited)\r\n        //   .send({ from: this.props.account })\r\n        //   .then(this.revokeSuccess)\r\n        //   .catch(this.revokeFailed);\r\n      } else {\r\n        // revoke erc20 by nulling approval amount\r\n        this.initRevoke();\r\n        contract.methods\r\n          .approve(this.props.tx.contract, 0)\r\n          .send({ from: this.props.account })\r\n          .then(this.revokeSuccess)\r\n          .catch(this.revokeFailed);\r\n      }\r\n    });\r\n  }\r\n\r\n  initRevoke() {\r\n    this.props.onStatusChange(\"pending\", this.props.tx);\r\n  }\r\n\r\n  revokeSuccess(receipt) {\r\n    toast.success(\"Successfully Revoked!\");\r\n    this.props.onStatusChange(\"success\", this.props.tx);\r\n  }\r\n\r\n  revokeFailed(err) {\r\n    toast.error(\"Could Not Revoke Allowance!\");\r\n    console.error(err);\r\n    this.props.onStatusChange(\"none\", this.props.tx);\r\n  }\r\n\r\n  renderRevokeButton() {\r\n    if (this.props.status === \"pending\") {\r\n      return (\r\n        <button className=\"icon-btn\">\r\n          <Icon path={mdiCheckboxBlankCircleOutline} size={1} color=\"#dbdbdb\" />\r\n        </button>\r\n      );\r\n    } else if (this.props.status === \"success\") {\r\n      return (\r\n        <button className=\"icon-btn\">\r\n          <Icon\r\n            path={mdiCheckboxMarkedCircleOutline}\r\n            size={1}\r\n            color=\"#78e900\"\r\n          />\r\n        </button>\r\n      );\r\n    } else\r\n      return (\r\n        <button\r\n          className=\"icon-btn\"\r\n          name=\"revoke\"\r\n          onClick={\r\n            this.setRevokeClick\r\n          }\r\n        >\r\n          {(this.props.tx.allowanceString === \"none\") ?\r\n            <Icon\r\n              path={mdiCheckboxMarkedCircleOutline}\r\n              size={1}\r\n              color=\"#78e900\"\r\n            />\r\n            :\r\n            <Icon path={mdiCancel} size={1} color=\"#e90000\" />\r\n          }\r\n\r\n        </button>\r\n      );\r\n  }\r\n\r\n  getAllowance() {\r\n    return this.state.allowance ? this.state.allowance : this.props.tx.allowanceString\r\n  }\r\n\r\n  async requestAllowance() {\r\n    const allowance = await fetchAllowance(this.props.account, this.props.tx.token, this.props.tx.contract)\r\n    this.setState({\r\n      allowance\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <tr key={\"allowance-nr-\" + this.props.tx.hash} className={this.props.tx.allowanceString}>\r\n        <td className=\"grid-items\">\r\n          {new Date(parseInt(this.props.tx.timestamp) * 1000).toLocaleString()}\r\n        </td>\r\n        <td className=\"grid-items\">\r\n          <a href={linkToAddress(this.props.tx.token)} target=\"_blank\" rel='noreferrer'>\r\n            {this.props.tx.tokenName || shorten(this.props.tx.token)}\r\n          </a>\r\n        </td>\r\n        <td className=\"grid-items\">\r\n          <a href={linkToAddress(this.props.tx.contract)} target=\"_blank\" rel='noreferrer'>\r\n            {shorten(this.props.tx.contract)}\r\n          </a>\r\n        </td>\r\n        <td>\r\n          <a href={linkToTransaction(this.props.tx.hash)} target=\"_blank\" rel='noreferrer'>\r\n            {shorten(this.props.tx.hash)}\r\n          </a></td>\r\n        <td className=\"grid-items\">\r\n          <button className=\"sync-btn icon-btn\" onClick={this.requestAllowance}>\r\n            <span>{this.getAllowance()}</span>\r\n            <Icon path={mdiSync} size={0.8} />\r\n          </button>\r\n        </td>\r\n        <td className=\"grid-items\">{this.renderRevokeButton()}</td>\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport default allowance;\r\n","import { Component } from \"react\";\r\nimport \"../styles/spinner.css\";\r\n\r\nclass Spinner extends Component {\r\n  renderText() {\r\n    if (this.props.total == null) {\r\n      return <div>Fetching Items ...</div>;\r\n    } else {\r\n      return (\r\n        <div>\r\n          Loading items {this.props.current}/{this.props.total}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"spinner\">\r\n        <div className=\"lds-grid\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n        {this.renderText()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Spinner;\r\n","import { Component } from \"react\";\r\nimport { toHex, toWei } from \"web3-utils\";\r\nimport \"../styles/tip.css\";\r\n\r\nexport default class Tip extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: 10,\r\n      tipped: false,\r\n    };\r\n    this.updateValue = this.updateValue.bind(this);\r\n    this.sendTip = this.sendTip.bind(this);\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.account) return <div />;\r\n\r\n    return (\r\n      <div className=\"tip\">\r\n        {!this.state.tipped && (\r\n          <div>\r\n            <p>\r\n              Thank you for using <i>Harmony Allowance</i>\r\n            </p>\r\n            <p>\r\n              If it was useful for you, please consider giving a small tip to\r\n              the developer. This will help to keep this and future projects\r\n              running!\r\n            </p>\r\n\r\n            <div className=\"input\">\r\n              <input\r\n                type=\"number\"\r\n                value={this.state.value}\r\n                onInput={this.updateValue}\r\n              />\r\n              <button id=\"tip-button\" onClick={this.sendTip}>\r\n                Tip\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {this.state.tipped && <p>THANK YOU FOR YOUR SUPPORT!!!</p>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  updateValue(event) {\r\n    this.setState({\r\n      value: event.target.value,\r\n    });\r\n  }\r\n\r\n  sendTip() {\r\n    window.ethereum\r\n      .request({\r\n        method: \"eth_sendTransaction\",\r\n        params: [\r\n          {\r\n            from: this.props.account,\r\n            to: this.props.address,\r\n            value: toHex(toWei(this.state.value.toString())),\r\n          },\r\n        ],\r\n      })\r\n      .then(() => {\r\n        this.setState({\r\n          tipped: true,\r\n        });\r\n      })\r\n      .catch(console.error);\r\n  }\r\n}\r\n","const { default: Wallet } = require(\"./wallet\");\r\n\r\nexport default class MetaMask extends Wallet {\r\n\r\n    static get name() {\r\n        return \"metamask\"\r\n    }\r\n\r\n    static async getChainId() {\r\n        let hex = await window.ethereum.chainId\r\n        return parseInt(hex, 16);\r\n    }\r\n\r\n    static available() {\r\n        return window.ethereum && window.ethereum.isMetaMask\r\n    }\r\n\r\n    static async connect() {\r\n        return this.requestAccounts()\r\n    }\r\n\r\n    static requestAccounts() {\r\n        return new Promise((resolve, reject) => {\r\n            if (!window.ethereum) reject(\"Metamask not found!\")\r\n            else {\r\n                window.ethereum\r\n                    .request({ method: 'eth_requestAccounts' })\r\n                    .then((accounts) => resolve(accounts[0]))\r\n                    .catch((err) => {\r\n                        if (err.code === 4001) {\r\n                            // EIP-1193 userRejectedRequest error\r\n                            // If this happens, the user rejected the connection request.\r\n                            reject('Please connect to MetaMask.');\r\n                        } else {\r\n                            reject(err);\r\n                        }\r\n                    });\r\n            }\r\n        })\r\n    }\r\n}","import MetaMask from \"./metamask\"\r\n\r\n\r\nlet wallets = {}\r\n\r\nwallets[MetaMask.name] = MetaMask\r\n\r\n\r\nexport default wallets","import { Component } from \"react\";\r\nimport { shorten } from \"../helpers/transaction\";\r\nimport wallets from \"../wallets/wallets\";\r\n\r\nexport default class WalletConnect extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.connectMetaMask = this.connectMetaMask.bind(this);\r\n    this.connectOneWallet = this.connectOneWallet.bind(this);\r\n  }\r\n\r\n  render() {\r\n\r\n    function Account(props) {\r\n      return <div className=\"account\">\r\n        <span>{props.account}</span><button onClick={props.disconnect}>Disconnect</button>\r\n      </div>\r\n    }\r\n\r\n    function ConnectButton(props) {\r\n      return <button onClick={props.connect}>Connect MetaMask</button>\r\n    }\r\n\r\n    function State(props) {\r\n      if (props.account) return Account(props)\r\n      else return ConnectButton(props)\r\n    }\r\n\r\n\r\n    return (\r\n      <div className=\"signin\">\r\n        <State connect={this.connectMetaMask} account={shorten(this.props.account, { length: 5 })} />\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n  connectMetaMask() {\r\n    this.connectWallet(\"metamask\");\r\n  }\r\n\r\n  connectOneWallet() {\r\n    this.connectWallet(\"onewallet\");\r\n  }\r\n\r\n  async connectWallet(name) {\r\n    const wallet = wallets[name];\r\n    if (wallet) {\r\n      let account = await wallet.connect();\r\n      let network = null;\r\n      if (account) {\r\n        let chainId = await wallet.getChainId();\r\n        network = chainId;\r\n      }\r\n\r\n      this.props.update({ account, network });\r\n    } else {\r\n      console.error(`Wallet with name \"${name}\" is not defined!`);\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { getEndpoint, fetchTransactions, getName, getApprovalTransactions } from \"../helpers/helpers\";\r\nimport Allowance from \"./allowance\";\r\nimport Spinner from \"./spinner\";\r\nimport Tip from \"./tip\";\r\nimport WalletConnect from \"./walletconnect\";\r\nimport { toast } from \"react-toastify\";\r\nimport Icon from \"@mdi/react\";\r\nimport { mdiEye, mdiEyeOff } from \"@mdi/js\";\r\nclass allowances extends Component {\r\n  state = {\r\n    approvalMap: {},\r\n    approveTransactions: [],\r\n    account: undefined,\r\n    fee: null,\r\n    loading: false,\r\n    totalTransactionCount: null,\r\n    currentTransactionCount: null,\r\n    page: 0,\r\n    pageNum: 100,\r\n    moreTransactions: true,\r\n    showZeroAllowance: false\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.props = props;\r\n    this.walletUpdated = this.walletUpdated.bind(this);\r\n    this.statusChanged = this.statusChanged.bind(this);\r\n    this.loadMore = this.loadMore.bind(this)\r\n    this.disconnect = this.disconnect.bind(this)\r\n    this.init = this.init.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.init()\r\n      .then((obj) => {\r\n        this.setState(obj);\r\n      })\r\n      .catch((err) => {\r\n        toast.error(\"Could not load application.\")\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  async init() {\r\n    if ((!this.state.account || !this.state.network) && window.ethereum != null) {\r\n      this.setState({\r\n        account: window.ethereum.selectedAddress,\r\n        network: parseInt(window.ethereum.chainId, 16)\r\n      })\r\n    };\r\n\r\n    if (!this.state.account || !this.state.network) return null;\r\n\r\n    try {\r\n      await this.updateTransactions()\r\n    } catch (e) {\r\n      toast.error(`Could not fetch transactions - try reloading the page.`)\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  async updateTransactions() {\r\n    this.setState({ loading: true });\r\n\r\n    const endpoint = getEndpoint(this.state.network);\r\n    if (!endpoint)\r\n      throw new Error(\"Wrong network! Change network and reload.\");\r\n\r\n    let txs = await fetchTransactions(endpoint, this.state.account, {\r\n      page: this.state.page,\r\n      num: this.state.pageNum\r\n    });\r\n\r\n    if (txs.length < this.state.pageNum) {\r\n      await this.setState({\r\n        moreTransactions: false\r\n      })\r\n    }\r\n\r\n    const approvalMap = await getApprovalTransactions(txs)\r\n    const previousApprovalMap = this.state.approvalMap\r\n\r\n    /**\r\n     * Update approval map\r\n     */\r\n    for (let [contractAddress, tokens] of Object.entries(approvalMap)) {\r\n      if (!previousApprovalMap[contractAddress]) previousApprovalMap[contractAddress] = {}\r\n      for (let [tokenAddress, approvalObjects] of Object.entries(tokens)) {\r\n        if (!previousApprovalMap[contractAddress][tokenAddress]) previousApprovalMap[contractAddress][tokenAddress] = []\r\n        previousApprovalMap[contractAddress][tokenAddress].push(...approvalObjects)\r\n      }\r\n    }\r\n\r\n\r\n    let approveTransactions = []\r\n    for (let tokens of Object.values(previousApprovalMap)) {\r\n      for (let approvalObjects of Object.values(tokens)) {\r\n        const newestApproval = approvalObjects[0]\r\n\r\n        // if (approvalObjects[0].allowance !== noneAllowance) {\r\n        const approval = approvalObjects[0]\r\n        approveTransactions.push(approval)\r\n        approval.tokenName = await getName(approval.token)\r\n        // }\r\n\r\n\r\n        for (let i = 1; i < approvalObjects.length; i++) {\r\n          if (newestApproval.timestamp - approvalObjects[i].timestamp < 0) {\r\n            console.error(\"CODE CONTAINS ERRORS: OLDER OBJECT WAS ADDED BEFORE!!!!\")\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    approveTransactions = approveTransactions.sort((a, b) => {\r\n      return b.timestamp - a.timestamp\r\n    })\r\n\r\n    await this.setState({\r\n      loading: false,\r\n      approveTransactions,\r\n      approvalMap: previousApprovalMap\r\n    });\r\n  }\r\n\r\n  setError(msg) {\r\n    toast.error(\"Something went wrong!\");\r\n    console.error(msg);\r\n  }\r\n\r\n  statusChanged(status, tx) {\r\n    let txs = this.state.approveTransactions;\r\n    let idx = txs.findIndex((arr_tx) => arr_tx.hash === tx.hash);\r\n    if (idx !== -1) {\r\n      txs[idx].status = status;\r\n      this.forceUpdate();\r\n    }\r\n  }\r\n\r\n  async loadMore() {\r\n    await this.setState({\r\n      page: this.state.page + 1\r\n    })\r\n    try {\r\n      this.updateTransactions()\r\n    } catch (e) {\r\n      this.setState({\r\n        page: this.state.page - 1\r\n      })\r\n      toast.error(`Some error occured on load: try again!`)\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const that = this\r\n    let elements = \"\";\r\n    if (this.state.approveTransactions.length > 0) {\r\n      elements = this.state.approveTransactions.map((tx) => {\r\n        return (\r\n          <Allowance\r\n            tx={tx}\r\n            key={\"allowance-\" + tx.hash}\r\n            web3={this.props.web3}\r\n            id={tx.contract}\r\n            account={this.state.account}\r\n            status={tx.status}\r\n            onStatusChange={this.statusChanged}\r\n          />\r\n        );\r\n      });\r\n    }\r\n\r\n    function RenderTable(props) {\r\n\r\n      const revokedClass = that.state.showZeroAllowance ? \"show-revoked\" : \"hide-revoked\"\r\n      return (\r\n        <table className={revokedClass}>\r\n          <thead>\r\n            <tr>\r\n              <td className=\"grid-items\">Time</td>\r\n              <td className=\"grid-items\">Token</td>\r\n              <td className=\"grid-items\">Approved Address</td>\r\n              <td className=\"grid-items\">Tx.-Hash</td>\r\n              <td className=\"grid-items\">Allowance</td>\r\n              <td className=\"grid-items\">Revoke</td>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{props.elements}</tbody>\r\n        </table>\r\n      );\r\n    }\r\n    function TransactionsContainer(props) {\r\n      return (\r\n        <div>\r\n          <Tip\r\n            account={props.account}\r\n            address=\"0x23F822FC0CA75622cF6C48A4fba508E068f0E15b\"\r\n          />\r\n\r\n          <div className=\"options-btn interactive\" onClick={() => that.setState({\r\n            showZeroAllowance: !that.state.showZeroAllowance\r\n          })}>\r\n            {\r\n              (that.state.showZeroAllowance) ?\r\n                <Icon path={mdiEyeOff} size={0.9} /> : <Icon path={mdiEye} size={0.9} />\r\n            }\r\n            <span>\r\n              {\r\n                (that.state.showZeroAllowance) ?\r\n                  \"Hide Zero Allowances\" : \"Show Zero Allowances\"\r\n              }\r\n            </span>\r\n          </div>\r\n          <RenderTable elements={elements} />\r\n          {\r\n            (props.loading) ?\r\n              <Spinner />\r\n              : (props.transactions.length === 0) ? <div className=\"info\">No Approval Transactions Found</div> : (that.state.moreTransactions) ? <button className=\"more-btn center\" onClick={that.loadMore}>Load More ...</button> : <div className=\"info\">End Of Transactions History</div>\r\n          }\r\n        </div >\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div className=\"allowance\">\r\n        <WalletConnect\r\n          account={this.state.account}\r\n          network={this.state.network}\r\n          disconnect={this.disconnect}\r\n          update={this.walletUpdated}\r\n        />\r\n        {((this.state.account) ?\r\n          <TransactionsContainer account={this.state.account} loading={this.state.loading} transactions={this.state.approveTransactions} /> : \"\")}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  disconnect() {\r\n    this.setState({\r\n      account: null\r\n    })\r\n  }\r\n\r\n  walletUpdated({ account, network } = {}) {\r\n    this.setState({\r\n      account,\r\n      network,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.account !== this.state.account) {\r\n      this.init();\r\n    }\r\n  }\r\n}\r\nexport default allowances;\r\n","import Web3 from \"web3\";\r\nimport Header from \"./components/header\";\r\nimport Allowances from \"./components/allowances\";\r\nimport React, { useState } from \"react\";\r\nimport { ToastContainer } from \"react-toastify\"\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nconst web3 = new Web3(Web3.givenProvider);\r\n\r\n\r\n\r\n\r\nconst agreementStorageName = 'experimental-aggreement'\r\n\r\nfunction getAgreement() {\r\n\r\n    let agreement = {\r\n        agreed: false,\r\n        timestamp: Date.now()\r\n    }\r\n\r\n    try {\r\n        const str = window.localStorage.getItem(agreementStorageName)\r\n        let storedAgreement = JSON.parse(str)\r\n        if (storedAgreement.agreed && storedAgreement.timestamp) {\r\n            const days = 30\r\n            if (Date.now() - storedAgreement.timestamp > days * 24 * 60 * 60 * 1000) {\r\n                storedAgreement.agreed = false\r\n            }\r\n            agreement = storeAgreement\r\n        }\r\n    } catch (e) {\r\n        console.warn(`Could not load stored agreement.`)\r\n    }\r\n\r\n    return agreement.agreed\r\n}\r\n\r\nfunction storeAgreement(val) {\r\n    window.localStorage.setItem(agreementStorageName, JSON.stringify({\r\n        timestamp: (new Date()).getTime(),\r\n        agreed: val\r\n    }))\r\n}\r\n\r\nfunction App() {\r\n\r\n    const storedAgreement = getAgreement()\r\n\r\n\r\n    const [agreed, setAgreed] = useState(storedAgreement)\r\n\r\n    function agree() {\r\n        setAgreed(true)\r\n        storeAgreement(true)\r\n    }\r\n\r\n    return (\r\n        <div className=\"content-wrapper\">\r\n            <ToastContainer />\r\n            <main className=\"content\">\r\n                <Header />\r\n                <Allowances web3={web3} />\r\n            </main>\r\n            {(agreed === false) &&\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\">\r\n                        <h3>Warning: Experimental Application</h3>\r\n                        <p>\r\n                            This application is a fork, of an Ethereum based application and just ported\r\n                            for the Harmony blockchain. It is not thoroughly tested and you should <b>use\r\n                                it on your own risk!</b>\r\n                        </p>\r\n\r\n                        <button onClick={agree}>Okay</button>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import reportWebVitals from './reportWebVitals';\r\nimport \"./App.css\"\r\nimport App from \"./App.js\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}